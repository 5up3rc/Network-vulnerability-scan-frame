SRC = ${wildcard *.cpp}
OBJS = ${patsubst %.cpp, %.o, $(SRC)}
#OBJS='cmdopt.o comm.o exectask.o main.o thread.o'
CFLAGS = -g -Wall

CFLAGS+=-lpthread
CFLAGS+=-lpython2.7
TARGET=main
%.o: %.cpp *.h
	g++ $< -c -o $@ ${CFLAGS} -I ./

all: ${OBJS}
	ar rc ${TARGET} ${OBJS}

clean:
	rm -rf *.o ${TARGET}
